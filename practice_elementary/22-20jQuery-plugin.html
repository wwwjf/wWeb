<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>jQuery-plugin</title>
    <script src="js/jquery-3.4.1.js"></script>
    <script>
        window.onload = function () {
            console.log('load success');
            //1.jQuery的插件，定义在jQuery.fn的基础上
            //2.命名冲突的解决
            //3.循环jQuery对象中的每个元素
            //4.在函数中，将jQuery返回(this)
            (function ($){
                $.fn.extend({
                    randomColor:function() {
                        //this 指向的就是我们通过$选择器选取到的所有元素组成的伪数组
                        function random() {
                            var r = Math.floor(Math.random()*256);
                            var g = Math.floor(Math.random()*256);
                            var b = Math.floor(Math.random()*256);
                            return `rgb(${r},${g},${b})`;
                        }
                        this.each(function (index) {
                            $(this).css({
                                backgroundColor:random()
                            });
                        });

                        return this
                    }
                })
            }(jQuery));
            $('div').randomColor()
        }
    </script>
    <style>
        div{
            width: 200px;
            height: 200px;
        }
    </style>
</head>
<body>
<div></div>
<div></div>
<!--<script>
    (function ($) {
        $.fn.extend({
            randomColor:function () {
                console.log('-&#45;&#45;randomcolor')
            }
        })
    }(jQuery));
    $('div').randomColor()
</script>-->
</body>
</html>